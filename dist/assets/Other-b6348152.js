import{b as pe,q as i,b3 as o,bk as a,db as _e,y as t,bR as d,d8 as _,J as m,D as g,bl as c,n as l,bL as h,by as k,I as he,ao as ke,ah as ye}from"./index-8d006787.js";import{a as y}from"./FolderTree-5efebe3a.js";import{b as fe}from"./useTitle-c9503954.js";import{G as V}from"./index-8b77d635.js";import{I as p}from"./SettingItem-49482dbf.js";import"./index-fc0ca60d.js";import"./index-0e17f044.js";import"./item_type-32dc6fdf.js";const qe=()=>{const r=pe();fe("manage.sidemenu.other");const[f,b]=i(""),[$,T]=i(""),[v,C]=i(""),[L,S]=i(""),[w,D]=i(""),[q,x]=i(""),[I,P]=i(""),[U,A]=i(""),[F,G]=i(""),[Q,R]=i(""),[u,W]=i([]),[X,Y]=o(()=>a.get("/admin/setting/list?groups=".concat(V.ARIA2,",").concat(V.SINGLE))),[Z,ee]=o(()=>a.post("/admin/setting/set_aria2",{uri:f(),secret:$()})),[te,ne]=o(()=>a.post("/admin/setting/set_qbit",{url:v(),seedtime:L()})),[re,se]=o(()=>a.post("/admin/setting/set_transmission",{uri:w(),seedtime:q()})),[ie,oe]=o(()=>a.post("/admin/setting/set_115",{temp_dir:I()})),[ae,ge]=o(()=>a.post("/admin/setting/set_pikpak",{temp_dir:U()})),[ce,de]=o(()=>a.post("/admin/setting/set_thunder",{temp_dir:F()}));(async()=>{const e=await Y();c(e,n=>{var H,M,O,B,E,J,N,j,z,K;b(((H=n.find(s=>s.key==="aria2_uri"))==null?void 0:H.value)||""),T(((M=n.find(s=>s.key==="aria2_secret"))==null?void 0:M.value)||""),R(((O=n.find(s=>s.key==="token"))==null?void 0:O.value)||""),C(((B=n.find(s=>s.key==="qbittorrent_url"))==null?void 0:B.value)||""),S(((E=n.find(s=>s.key==="qbittorrent_seedtime"))==null?void 0:E.value)||""),D(((J=n.find(s=>s.key==="transmission_uri"))==null?void 0:J.value)||""),x(((N=n.find(s=>s.key==="transmission_seedtime"))==null?void 0:N.value)||""),P(((j=n.find(s=>s.key==="115_temp_dir"))==null?void 0:j.value)||""),A(((z=n.find(s=>s.key==="pikpak_temp_dir"))==null?void 0:z.value)||""),G(((K=n.find(s=>s.key==="thunder_temp_dir"))==null?void 0:K.value)||""),W(n)})})();const[le,ue]=o(()=>a.post("/admin/setting/reset_token")),{copy:me}=_e();return t(ye,{get loading(){return X()},get children(){return[t(d,{mb:"$2",get children(){return r("settings_other.aria2")}}),t(_,{gap:"$2",columns:{"@initial":1,"@md":2},get children(){return[t(p,m(()=>u().find(e=>e.key==="aria2_uri"),{get value(){return f()},onChange:e=>b(e)})),t(p,m(()=>u().find(e=>e.key==="aria2_secret"),{get value(){return $()},onChange:e=>T(e)}))]}}),t(g,{my:"$2",get loading(){return Z()},onClick:async()=>{const e=await ee();c(e,n=>{l.success("".concat(r("settings_other.aria2_version")," ").concat(n))})},get children(){return r("settings_other.set_aria2")}}),t(d,{my:"$2",get children(){return r("settings_other.qbittorrent")}}),t(_,{gap:"$2",columns:{"@initial":1,"@md":2},get children(){return[t(p,m(()=>u().find(e=>e.key==="qbittorrent_url"),{get value(){return v()},onChange:e=>C(e)})),t(p,m(()=>u().find(e=>e.key==="qbittorrent_seedtime"),{get value(){return L()},onChange:e=>S(e)}))]}}),t(g,{my:"$2",get loading(){return te()},onClick:async()=>{const e=await ne();c(e,n=>{l.success(n)})},get children(){return r("settings_other.set_qbit")}}),t(d,{my:"$2",get children(){return r("settings_other.transmission")}}),t(_,{gap:"$2",columns:{"@initial":1,"@md":2},get children(){return[t(p,m(()=>u().find(e=>e.key==="transmission_uri"),{get value(){return w()},onChange:e=>D(e)})),t(p,m(()=>u().find(e=>e.key==="transmission_seedtime"),{get value(){return q()},onChange:e=>x(e)}))]}}),t(g,{my:"$2",get loading(){return re()},onClick:async()=>{const e=await se();c(e,n=>{l.success(n)})},get children(){return r("settings_other.set_transmission")}}),t(d,{my:"$2",get children(){return r("settings_other.115")}}),t(h,{w:"$full",display:"flex",flexDirection:"column",get children(){return[t(k,{for:"115_temp_dir",display:"flex",alignItems:"center",get children(){return r("settings.115_temp_dir")}}),t(y,{id:"115_temp_dir",get value(){return I()},onChange:e=>P(e)})]}}),t(g,{my:"$2",get loading(){return ie()},onClick:async()=>{const e=await oe();c(e,n=>{l.success(n)})},get children(){return r("settings_other.set_115")}}),t(d,{my:"$2",get children(){return r("settings_other.pikpak")}}),t(h,{w:"$full",display:"flex",flexDirection:"column",get children(){return[t(k,{for:"pikpak_temp_dir",display:"flex",alignItems:"center",get children(){return r("settings.pikpak_temp_dir")}}),t(y,{id:"pikpak_temp_dir",get value(){return U()},onChange:e=>A(e)})]}}),t(g,{my:"$2",get loading(){return ae()},onClick:async()=>{const e=await ge();c(e,n=>{l.success(n)})},get children(){return r("settings_other.set_pikpak")}}),t(d,{my:"$2",get children(){return r("settings_other.thunder")}}),t(h,{w:"$full",display:"flex",flexDirection:"column",get children(){return[t(k,{for:"thunder_temp_dir",display:"flex",alignItems:"center",get children(){return r("settings.thunder_temp_dir")}}),t(y,{id:"thunder_temp_dir",get value(){return F()},onChange:e=>G(e)})]}}),t(g,{my:"$2",get loading(){return ce()},onClick:async()=>{const e=await de();c(e,n=>{l.success(n)})},get children(){return r("settings_other.set_thunder")}}),t(d,{my:"$2",get children(){return r("settings.token")}}),t(he,{get value(){return Q()},readOnly:!0}),t(ke,{my:"$2",spacing:"$2",get children(){return[t(g,{onClick:()=>{me(Q())},get children(){return r("settings_other.copy_token")}}),t(g,{colorScheme:"danger",get loading(){return le()},onClick:async()=>{const e=await ue();c(e,n=>{l.success(r("settings_other.reset_token_success")),R(n)})},get children(){return r("settings_other.reset_token")}})]}})]}})};export{qe as default};
